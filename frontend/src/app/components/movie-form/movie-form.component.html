<h2>{{ movieId ? 'Edit Movie' : 'Add Movie' }}</h2>
<form [formGroup]="movieForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="title">Title:</label>
    <input id="title" type="text" formControlName="title" class="form-control" 
           [ngClass]="{'invalid': movieForm.get('title')?.invalid && movieForm.get('title')?.touched}" />
    <div *ngIf="movieForm.get('title')?.invalid && movieForm.get('title')?.touched" class="error-message">
      Title is required
    </div>
  </div>
  
  <div class="form-group">
    <label for="director">Director:</label>
    <input id="director" type="text" formControlName="director" class="form-control"
           [ngClass]="{'invalid': movieForm.get('director')?.invalid && movieForm.get('director')?.touched}" />
    <div *ngIf="movieForm.get('director')?.invalid && movieForm.get('director')?.touched" class="error-message">
      Director is required
    </div>
  </div>
  
  <div class="form-group">
    <label for="genre">Genre:</label>
    <input id="genre" type="text" formControlName="genre" class="form-control"
           [ngClass]="{'invalid': movieForm.get('genre')?.invalid && movieForm.get('genre')?.touched}" />
    <div *ngIf="movieForm.get('genre')?.invalid && movieForm.get('genre')?.touched" class="error-message">
      Genre is required
    </div>
  </div>
  
  <div class="form-group">
    <label for="year">Year:</label>
    <input id="year" type="number" formControlName="year" class="form-control"
           [ngClass]="{'invalid': movieForm.get('year')?.invalid && movieForm.get('year')?.touched}" />
    <div *ngIf="movieForm.get('year')?.invalid && movieForm.get('year')?.touched" class="error-message">
      <span *ngIf="movieForm.get('year')?.errors?.['required']">Year is required</span>
      <span *ngIf="movieForm.get('year')?.errors?.['min']">Year must be 1900 or later</span>
    </div>
  </div>
  
  <div class="form-group">
    <label for="rentalPrice">Rental Price:</label>
    <input id="rentalPrice" type="number" step="0.01" formControlName="rentalPrice" class="form-control"
           [ngClass]="{'invalid': movieForm.get('rentalPrice')?.invalid && movieForm.get('rentalPrice')?.touched}" />
    <div *ngIf="movieForm.get('rentalPrice')?.invalid && movieForm.get('rentalPrice')?.touched" class="error-message">
      Rental price is required
    </div>
  </div>
  
  <div class="form-group">
    <label for="availableCopies">Available Copies:</label>
    <input id="availableCopies" type="number" formControlName="availableCopies" class="form-control"
           [ngClass]="{'invalid': movieForm.get('availableCopies')?.invalid && movieForm.get('availableCopies')?.touched}" />
    <div *ngIf="movieForm.get('availableCopies')?.invalid && movieForm.get('availableCopies')?.touched" class="error-message">
      <span *ngIf="movieForm.get('availableCopies')?.errors?.['required']">Available copies is required</span>
      <span *ngIf="movieForm.get('availableCopies')?.errors?.['min']">Must have at least 1 copy</span>
    </div>
  </div>
  
  <button type="submit" class="submit-button" [disabled]="movieForm.invalid">
    {{ movieId ? 'Update Movie' : 'Add Movie' }}
  </button>
</form>
